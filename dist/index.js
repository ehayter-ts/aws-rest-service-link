metadata={systemName:"AWS_API",displayName:"AWS API Broker",description:"AWS API Broker"},ondescribe=async function({configuration:e}){postSchema({objects:{pet:{displayName:"Pet",description:"Manages a pets list",properties:{id:{displayName:"ID",type:"number"},type:{displayName:"Type",type:"string"},price:{displayName:"Price",type:"decimal"}},methods:{get:{displayName:"Get Pets",type:"list",inputs:[],outputs:["id","type","price"]}}}}})},onexecute=async function({objectName:e,methodName:t,parameters:s,properties:a,configuration:r,schema:i}){switch(e){case"pet":await async function(e,t,s){switch(e){case"get":await function(e){return new Promise((t,s)=>{var a=new XMLHttpRequest;if(a.onreadystatechange=function(){try{if(4!==a.readyState)return;if(200!==a.status)throw new Error("Failed with status "+a.status);var e=JSON.parse(a.responseText);postResult(e.map(e=>({id:e.id,type:e.type,price:e.price}))),t()}catch(e){s(e)}},"number"!=typeof e.id)throw new Error('properties["id"] is not of type number');a.open("GET","http://petstore.execute-api.eu-west-2.amazonaws.com/petstore/pets"),a.setRequestHeader("test","test value"),a.send()})}(t);break;default:throw new Error("The method "+e+" is not supported.")}}(t,a);break;default:throw new Error("The object "+e+" is not supported.")}};
//# sourceMappingURL=index.js.map
